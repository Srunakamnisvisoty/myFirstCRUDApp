<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="base">
<head>
    <meta charset="UTF-8">
    <title>Users</title>
</head>
<body>
<div layout:fragment="page_content">
    <h1>Admin Panel</h1>
    <ul class="nav nav-tabs">
        <li class="nav-item active">
            <a data-toggle="tab" class="nav-link active" href="#allUsers">Users table</a>
        </li>
        <li class="nav-item">
            <a data-toggle="tab" class="nav-link" href="admin/new">New User</a>
        </li>
    </ul>
    <div class="tab-content">
        <div id="allUsers" class="tab-pane active">
            <div class="card">
                <div class="card-header"><p><strong>All Users</strong></p></div>
                <div class="p-3">
                    <table class="table table-striped table-hover">
                        <thead>
                        <tr>
                            <th scope="col">User ID</th>
                            <th scope="col">Username</th>
                            <th scope="col">Email</th>
                            <th scope="col">Age</th>
                            <th scope="col">Roles</th>
                            <th scope="col">Edit</th>
                            <th scope="col">Delete</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="usr : ${users}">
                            <td th:text="${usr.getId()}"></td>
                            <td th:text="${usr.getLogin()}"></td>
                            <td th:text="${usr.email}"></td>
                            <td th:text="${usr.getAge()}"></td>
                            <td th:text="${usr.getRoleListString()}"></td>
                            <td>
                                <a class="btn btn-info" th:href="@{/admin/{id}/edit(id=${usr.getId()})}">Edit</a>
                                <!--                                <a th:href="@{/admin/{userId}/edit(userId=${usr.getId()})}"-->
                                <!--                                   type="button" class="btn btn-primary editBtn"-->
                                <!--                                   data-toggle="modal" data-target="#editModal">Edit-->
                                <!--                                </a>-->
                            </td>
                            <td>
                                <a class="btn btn-danger" th:href="@{/admin/{id}/delete(id=${usr.getId()})}">Delete</a>
                                <!--                                <a th:href="@{/admin/{userId}/delete(userId=${usr.getId()})}"-->
                                <!--                                   type="button" class="btn btn-danger dltBtn"-->
                                <!--                                   data-toggle="modal" data-target="#deleteModal">Delete</a>-->
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>

                <!--                <div class="modal fade" id="editModal" tabindex="-1" aria-labelledby="exampleModalLabel"-->
                <!--                     aria-hidden="true">-->
                <!--                    <form th:method="PATCH" th:action="@{/admin/update}" th:object="${user}">-->
                <!--                        <div class="modal-dialog">-->
                <!--                            <div class="modal-content">-->
                <!--                                <div class="modal-header">-->
                <!--                                    <h5 class="modal-title" id="exampleModalLabel">Edit user</h5>-->
                <!--                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">-->
                <!--                                        <span aria-hidden="true">&times;</span>-->
                <!--                                    </button>-->
                <!--                                </div>-->
                <!--                                <div class="modal-body">-->
                <!--                                    <input type="hidden" id="id" name="id" th:value="${id}"/>-->
                <!--                                    <div class="form-group">-->
                <!--                                        <label for="loginEdit">Login </label>-->
                <!--                                        <input type="text" th:field="*{login}" id="loginEdit" name="login"-->
                <!--                                               class="form-control"/>-->
                <!--                                    </div>-->
                <!--                                    <div class="form-group">-->
                <!--                                        <label for="passwordEdit">Password </label>-->
                <!--                                        <input type="text" th:field="*{password}" id="passwordEdit"-->
                <!--                                               name="password"-->
                <!--                                               class="form-control"/>-->
                <!--                                    </div>-->
                <!--                                    <div class="form-group">-->
                <!--                                        <label for="emailEdit">Email </label>-->
                <!--                                        <input type="text" th:field="*{email}" id="emailEdit" name="email"-->
                <!--                                               class="form-control"/>-->
                <!--                                    </div>-->
                <!--                                    <div class="form-group">-->
                <!--                                        <label for="ageEdit">Age</label>-->
                <!--                                        <input type="text" th:field="*{age}" id="ageEdit" name="age"-->
                <!--                                               class="form-control">-->
                <!--                                    </div>-->
                <!--                                    <div class="form-group">-->
                <!--                                        <label for="securityRolesListEdit"><strong>Role</strong></label>-->
                <!--                                        <select id="securityRolesListEdit" th:field="*{securityRolesList}"-->
                <!--                                                size="2" multiple="multiple" class="form-control">-->
                <!--                                            <option th:each="str : ${securityRoleList}"-->
                <!--                                                    th:value="${{str}}"-->
                <!--                                                    th:text="${str.role}">-->
                <!--                                                USER-->
                <!--                                            </option>-->
                <!--                                        </select>-->
                <!--                                    </div>-->
                <!--                                </div>-->
                <!--                                <div class="modal-footer">-->
                <!--                                    <button type="submit" class="btn btn-secondary" data-bs-dismiss="modal">-->
                <!--                                        Close-->
                <!--                                    </button>-->
                <!--                                    <button type="submit" class="btn btn-warning">Edit user</button>-->
                <!--                                </div>-->
                <!--                            </div>-->
                <!--                        </div>-->
                <!--                    </form>-->
                <!--                </div>-->

                <!--                <div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="exampleModalLabel"-->
                <!--                     aria-hidden="true">-->
                <!--                    <form th:method="DELETE" th:action="@{/admin/drop}" th:object="${user}">-->
                <!--                        <div class="modal-dialog">-->
                <!--                            <div class="modal-content">-->
                <!--                                <div class="modal-header">-->
                <!--                                    <h5 class="modal-title">Remove user</h5>-->
                <!--                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">-->
                <!--                                        <span aria-hidden="true">&times;</span>-->
                <!--                                    </button>-->
                <!--                                </div>-->
                <!--                                <div class="modal-body">-->
                <!--                                    <input type="hidden" id="idDelete" name="id" th:value="${id}"/>-->
                <!--                                    <div class="form-group">-->
                <!--                                        <label for="loginDelete">Login </label>-->
                <!--                                        <input type="text" readonly th:field="*{login}" id="loginDelete" name="login"-->
                <!--                                               class="form-control"/>-->
                <!--                                    </div>-->
                <!--                                    <div class="form-group">-->
                <!--                                        <label for="passwordDelete">Password </label>-->
                <!--                                        <input type="text" readonly th:field="*{password}" id="passwordDelete"-->
                <!--                                               name="password" class="form-control"/>-->
                <!--                                    </div>-->
                <!--                                    <div class="form-group">-->
                <!--                                        <label for="emailDelete">Email </label>-->
                <!--                                        <input type="text" readonly th:field="*{email}" id="emailDelete" name="email"-->
                <!--                                               class="form-control"/>-->
                <!--                                    </div>-->
                <!--                                    <div class="form-group">-->
                <!--                                        <label for="ageDelete">Age</label>-->
                <!--                                        <input type="text" readonly th:field="*{age}" id="ageDelete" name="age"-->
                <!--                                               class="form-control">-->
                <!--                                    </div>-->
                <!--                                    <div class="form-group">-->
                <!--                                        <label for="securityRolesListDelete"><strong>Role</strong></label>-->
                <!--                                        <select readonly id="securityRolesListDelete" th:field="*{securityRolesList}"-->
                <!--                                                size="2" multiple="multiple" class="form-control">-->
                <!--                                            <option th:each="str : ${roleList}"-->
                <!--                                                    th:value="${{str}}"-->
                <!--                                                    th:text="${str.role}">-->
                <!--                                                USER-->
                <!--                                            </option>-->
                <!--                                        </select>-->
                <!--                                    </div>-->
                <!--                                </div>-->
                <!--                                <div class="modal-footer">-->
                <!--                                    <button type="submit" class="btn btn-secondary" data-bs-dismiss="modal">-->
                <!--                                        Close-->
                <!--                                    </button>-->
                <!--                                    <button type="submit" class="btn btn-warning">Delete</button>-->
                <!--                                </div>-->
                <!--                            </div>-->
                <!--                        </div>-->
                <!--                    </form>-->
                <!--                </div>-->

            </div>
        </div>
        <div id="newUser" class="tab-pane"></div>
    </div>
    <br/>
    <hr/>

</div>
</body>
</html>